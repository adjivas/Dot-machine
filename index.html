<!DOCTYPE html>
<meta charset="UTF-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width" />
<title>DotMachine</title>
<link rel="stylesheet" href="style/main.css" />
<section>
  <nav>
    <menu>
      <p>table des matières</p>
      <ul>
        <li><a href="#usage">Usage</a>
          <ul>
            <li><a href="#source">Source</a></li>
            <li><a href="#reference">Références</a></li>
          </ul>
        </li>
        <li><a href="#localization">Localisation</a>
        <li><a href="#install">(Installation)</a>
        <li><a href="#licence">Licence</a></li>
      </ul>
    </menu>
    <aside>
      <div class="spinner" id='spinner'></div>
      <div class="emscripten" id="status">Downloading...</div>
      
      <div class="emscripten">
      <progress value="0" max="100" id="progress" hidden=1></progress>
      </div>
      
      
      <div class="emscripten_border">
      <canvas class="emscripten" id="canvas" oncontextmenu="event.preventDefault()"></canvas>
      </div>
      <textarea id="output" rows="8"></textarea>
    </aside>
  </nav>
  <header>
    <video width="320" height="180" autoplay="autoplay">
      <source src="style/video/0001-3258.h264.webm" type="video/webm" />
    </video>
    <h1 id="welcome">Dot Machine<a href="#welcome">&#x00B6;</a></h1>
    <p>
      <a href="https://github.com/jb255/Dot-machine">DotMachine</a> est un <b>tableau tetris</b> écrit en C et de microcontrôleur <a href="https://www.microchip.com/wwwproducts/en/PIC32MX170F256B">PIC32MX170F256B</a>.
    </p>
    <p>
    À des fins démonstratifs, ce programme fût étendu aux interfaces Unix/Linux, Darwin et Web sous les modes <a href="https://fr.wikipedia.org/wiki/Environnement_en_mode_texte">texte</a> -TUI- et <a href="https://fr.wikipedia.org/wiki/Interface_graphique">graphique</a> -GUI-.
    </p>
  </header>
  <article>
    <h2 id="usage">usage<a href="#usage">&#x00B6;</a></h2>
	<p>Liste de touches :</p>
	<table>
		<tr>
			<th>PS<sub>X</sub></th>
			<th>Clavier</th>
			<th>Description</th>
		</tr>
		<tr>
			<td colspan="3"></td>
		</td>
		<tr>
			<td><img src="style/image/select.png" width="60px" height="30px" /></td>
			<td></td>
			<td>Retourner au menu.</td>
		</tr>
		<tr>
			<td><img src="style/image/start.png" width="60px" height="30px" /></td>
			<td></td>
			<td>Lancer ou relancer une partie.</td>
		</tr>
		<tr>
			<td><img src="style/image/l2.png" width="30px" height="30px" /></td>
			<td></td>
			<td>Active ou désactive le son.</td>
		</tr>
		<tr>
			<td><img src="style/image/l1.png" width="30px" height="30px" /></td>
			<td><img src="style/image/end.png" width="30px" height="30px" /></td>
			<td>Chuter la pièce.</td>
		</tr>
		<tr>
			<td colspan="2"><img src="style/image/top.png" width="30px" height="30px" /></td>
			<td>Tourner la pièce.</td>
		</tr>
		<tr>
			<td colspan="2"><img src="style/image/right.png" width="30px" height="30px" /></td>
			<td>Déplacer la pièce vers la droite.</td>
		</tr>
		<tr>
			<td colspan="2"><img src="style/image/left.png" width="30px" height="30px" /></td>
			<td>Déplacer la pièce vers la gauche.</td>
		</tr>
		<tr>
			<td colspan="2"><img src="style/image/bottom.png" width="30px" height="30px" /></td>
			<td>Déplacer la pièce vers le bas.</td>
		</tr>
	<table>
    <h3>Source<a href="#source">&#x00B6;</a></h3>
    <ul>
        <li><a href="output/guide.pdf">Guide</a></li>
        <li><a href="output/documentation.pdf">Documentation</a></li>
        <li><a href="output/schematic_print_v1.0.0.pdf">Schéma du circuit imprimé 1.0</a></li>
        <li><a href="output/schematic_print_v1.0.0.pdf">Schéma du circuit imprimé 1.&pi;</a></li>
        <li><a href="https://github.com/jb255/Dot-machine">Code source</a></li>
    </ul>
    <h3>Références<a href="#reference">&#x00B6;</a></h3>
    <ul>
        <li><a href="http://www.gamesdatabase.org/Media/SYSTEM/Nintendo_NES/manual/Formated/Tetris_-_1988_-_Tengen_Ltd..pdf">Guide Nintendo du Tetris de 1988</a></li>
        <li><a href="https://flipdots.com/wp-content/uploads/2016/10/electromagnetic_status_indicators.pdf">Fiche technique de la pastille AZ36</a></li>
    </ul>

    <h2 id="localization">Localisation<a href="#localization">&#x00B6;</a></h2>
    <p>Ce tableau est accessible sous <a href="http://art42.fr/fr/visites.html">réservation</a> au musée d'Art de l'École 42 au 96 Boulevard Bessières, Paris.</p>
    <div id="map"></div>
    <h2 id="install">(Installation)<a href="#install">&#x00B6;</a></h2>
        <p>Pour plus de détails, consulter la branche <a href="https://github.com/jb255/tree/software">software</a> :</p>
        <pre>
<span class="command">git</span> <span class="option">clone</span> <span class="option">-b</span> <span class="value">software</span> <span class="value">https://github.com/jb255/Dot-machine.git</span> <span class="value">dot_machine</span>
<span class="command">cd</span> <span class="value">dot_machine</span>

<span class="command">make</span> <span class="option">default</span> && <span class="command">./main</span> # vt100/tui 
<span class="command">make</span> <span class="option">sdl2</span> && <span class="command">./main</span> # sdl2/gui
<span class="command">make</span> <span class="option">asmjs</span> && <span class="command">firefox</span> <span class="option">index.html</span> # emcc/asmjs sdl2/web
<span class="command">make</span> <span class="option">wasm</span> && <span class="command">firefox</span> <span class="option">index.html</span> # emcc/web-assembly sdl2/web </pre>

  </article>
  <footer>
    <h2 id="licence">licence<a href="#licence">&#x00B6;</a></h2>
    <p>
      Le code source du dépôt <a href="https://github.com/jb255/Dot-machine">DotMachine</a> est de <a href="https://raw.githubusercontent.com/jb255/Dot-machine/master/LICENSE">licence</a><a href="http://www.gnu.org/licences/gpl-3.0.html">GNU GPL v3</a>.
    </p>
  </footer>
</section>

    <script src="ol.js" async="async"></script>

    <script>
    
  var map = new ol.Map({
    target: 'map',
    layers: [
      new ol.layer.Tile({
        source: new ol.source.OSM()
      })
    ],
    target: 'map',
    view: new ol.View({
      center: ol.proj.fromLonLat([2.3186119, 48.8964050]),
      zoom: 19,
    })
  });

    </script>


    <script type='text/javascript'>
      var statusElement = document.getElementById('status');
      var progressElement = document.getElementById('progress');
      var spinnerElement = document.getElementById('spinner');

      var Module = {
        preRun: [],
        postRun: [],
        print: (function() {
          var element = document.getElementById('output');
          if (element) element.value = ''; // clear browser cache
          return function(text) {
            if (arguments.length > 1) text = Array.prototype.slice.call(arguments).join(' ');
            // These replacements are necessary if you render to raw HTML
            //text = text.replace(/&/g, "&amp;");
            //text = text.replace(/</g, "&lt;");
            //text = text.replace(/>/g, "&gt;");
            //text = text.replace('\n', '<br>', 'g');
            console.log(text);
            if (element) {
              element.value += text + "\n";
              element.scrollTop = element.scrollHeight; // focus on bottom
            }
          };
        })(),
        printErr: function(text) {
          if (arguments.length > 1) text = Array.prototype.slice.call(arguments).join(' ');
          if (0) { // XXX disabled for safety typeof dump == 'function') {
            dump(text + '\n'); // fast, straight to the real console
          } else {
            console.error(text);
          }
        },
        canvas: (function() {
          var canvas = document.getElementById('canvas');

          // As a default initial behavior, pop up an alert when webgl context is lost. To make your
          // application robust, you may want to override this behavior before shipping!
          // See http://www.khronos.org/registry/webgl/specs/latest/1.0/#5.15.2
          canvas.addEventListener("webglcontextlost", function(e) { alert('WebGL context lost. You will need to reload the page.'); e.preventDefault(); }, false);

          return canvas;
        })(),
        setStatus: function(text) {
          if (!Module.setStatus.last) Module.setStatus.last = { time: Date.now(), text: '' };
          if (text === Module.setStatus.text) return;
          var m = text.match(/([^(]+)\((\d+(\.\d+)?)\/(\d+)\)/);
          var now = Date.now();
          if (m && now - Date.now() < 30) return; // if this is a progress update, skip it if too soon
          if (m) {
            text = m[1];
            progressElement.value = parseInt(m[2])*100;
            progressElement.max = parseInt(m[4])*100;
            progressElement.hidden = false;
            spinnerElement.hidden = false;
          } else {
            progressElement.value = null;
            progressElement.max = null;
            progressElement.hidden = true;
            if (!text) spinnerElement.style.display = 'none';
          }
          statusElement.innerHTML = text;
        },
        totalDependencies: 0,
        monitorRunDependencies: function(left) {
          this.totalDependencies = Math.max(this.totalDependencies, left);
          Module.setStatus(left ? 'Preparing... (' + (this.totalDependencies-left) + '/' + this.totalDependencies + ')' : 'All downloads complete.');
        }
      };
      Module.setStatus('Downloading...');
      window.onerror = function(event) {
        // TODO: do not warn on ok events like simulating an infinite loop or exitStatus
        Module.setStatus('Exception thrown, see JavaScript console');
        spinnerElement.style.display = 'none';
        Module.setStatus = function(text) {
          if (text) Module.printErr('[post-exception status] ' + text);
        };
      };
    </script>
    <script async type="text/javascript" src="main.js"></script>
	
